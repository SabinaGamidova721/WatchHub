<html lang="en" data-bs-theme="dark"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-TXTBFKF5EW&amp;l=dataLayer&amp;cx=c"></script><script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-WKV3GT5"></script><script src="https://silicon.createx.studio/assets/js/theme-switcher.js"></script>-->
    <link rel="manifest" href="https://silicon.createx.studio/assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://silicon.createx.studio/assets/favicon/safari-pinned-tab.svg" color="#6366f1">
    <meta name="msapplication-TileColor" content="#080032">
    <meta name="msapplication-config" content="https://silicon.createx.studio/assets/favicon/browserconfig.xml">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" media="screen" href="https://silicon.createx.studio/assets/vendor/boxicons/css/boxicons.min.css">
    <link rel="stylesheet" media="screen" href="https://silicon.createx.studio/assets/css/theme.min.css">
    <link rel="stylesheet" href="https://templates.iqonic.design/streamit/html/frontend/assets/css/streamit.min.css?v=5.1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300&amp;display=swap" rel="stylesheet">
    <%= javascript_include_tag('refresh.js') %>

    <style>

      #submit-button i {
        font-size: 1rem;
        color: #000;
      }
    </style>
  </head>

  <body>
    
  <span class="screen-darken"></span>
  <div class="loader simple-loader animate__animated animate__fadeOut d-none">
     <div class="loader-body">
        <img src="https://templates.iqonic.design/streamit/html/frontend/assets/images/loader.gif" alt="loader" class="img-fluid " width="300">
      </div>
  </div>

    <main class="main-content">
      <section class="container pt-5">
      <div class="row">

        <!-- Sidebar (User info + Account menu) -->
        <aside class="col-lg-3 col-md-4 border-end pb-5 mt-n5">
          <div class="position-sticky top-0">
            <div class="text-center pt-5">
              <div class="d-table position-relative mx-auto mt-2 mt-lg-4 pt-5 mb-3">

              <%= form_with(model: user_profile, html: { id: "user-profile-form", multipart: true }) do |form| %>
              
                <div class="mt-md">
                  <% if user_profile.avatar.attached? %>
                    <%= image_tag(user_profile.avatar, width: "120", class: "d-block rounded-circle", id: "avatar_preview", data: { target: "avatar" }) %>
                  <% else %>
                    <img src="<%= image_path('unknown.jpg') %>" alt="Sorry, something went wrong" class="d-block rounded-circle" width="120" id="avatar_preview" data: { target: "avatar" }>
                  <% end %>
                </div>
              
                <%= form.file_field :avatar, id: "avatar_input", class: "d-none" %>
                <!--
                <div>
                  <%#= form.submit "âœ“", id: "submit-button", class: "btn btn-icon btn-light bg-white btn-sm border rounded-circle shadow-sm position-absolute bottom-0 end-0 mt-4" %>
                </div>
                -->
              <% end %>

              </div>
              <h2 class="h5 mb-1"><%= user_profile.nickname %></h2>
              <p class="mb-3 pb-3"><%= user_profile.user.email %></p>
              <button type="button" class="btn btn-secondary w-100 d-md-none mt-n2 mb-3" data-bs-toggle="collapse" data-bs-target="#account-menu">
                <i class="bx bxs-user-detail fs-xl me-2"></i>
                <%= t("p.Account_menu") %>
                <i class="bx bx-chevron-down fs-lg ms-1"></i>
              </button>
              <div id="account-menu" class="list-group list-group-flush collapse d-md-block">
              <ul style="list-style-type: none;">
              <li>
                <%= link_to edit_user_profile_path(user_profile), class: "list-group-item list-group-item-action d-flex align-items-center", style: "text-decoration: none;" do %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle  fs-xl opacity-60 me-2" viewBox="0 0 16 16">
                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                  </svg>
                  User Profile
                <% end %>
              </li>
              <li>
                <%= link_to user_histories_path, class: "list-group-item list-group-item-action d-flex align-items-center", style: "text-decoration: none;" do %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hourglass-split fs-xl opacity-60 me-2" viewBox="0 0 16 16">
                    <path d="M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"/>
                  </svg>
                  History
                <% end %>
              </li>
              <li>
                <%= link_to user_likes_path, class: "list-group-item list-group-item-action d-flex align-items-center", style: "text-decoration: none;" do %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill fs-xl opacity-60 me-2" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"/>
                  </svg>
                  Favourites
                <% end %>
              </li>
              <li>
                <%= link_to user_watch_laters_path, class: "list-group-item list-group-item-action d-flex align-items-center", style: "text-decoration: none;" do %>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history fs-xl opacity-60 me-2" viewBox="0 0 16 16">
                    <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"/>
                    <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"/>
                    <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"/>
                  </svg>
                  Watch Later
                <% end %>
              </li>
              <li>
                <%= button_to destroy_user_session_path, method: :delete, class: "list-group-item list-group-item-action d-flex align-items-center", style: "text-decoration: none;" do %>
                  <i class="bx bx-log-out fs-xl opacity-60 me-2"></i>
                  Sign out
                <% end %>
              </li>
              </ul>
              </div>
            </div>
          </div>
        </aside>


        <!-- Account details -->
        <div class="col-md-8 offset-lg-1 pb-5 mb-2 mb-lg-4 pt-md-5 mt-n3 mt-md-0">
          <div class="ps-md-3 ps-lg-0 mt-md-2 py-md-4">
            <p class="title-md" style="color: green"><%= notice %></p>
            <p class="title-md" style="color: red"><%= alert %></p>
            <h1 class="h2 pt-xl-1 pb-3"><%= t("heading.Account_Details") %></h1>

            <!-- Basic info -->
            <h2 class="h5 text-primary mb-4"><%= t("heading.Basic_info") %></h2>

            <div id="profile-info" class="row pb-2">
           
            <%= form_with(model: user_profile) do |form| %>

              <% if user_profile.errors.any? %>
                <div style="color: red">
                  <h2><%= pluralize(user_profile.errors.count, "error") %> prohibited this user_profile from being saved:</h2>

                  <ul>
                    <% user_profile.errors.each do |error| %>
                      <li><%= error.full_message %></li>
                    <% end %>
                  </ul>
                </div>
              <% end %>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :nickname, style: "display: block", class: "form-label fs-base"  %>
                    <%= form.text_field :nickname, id: "user_profile_nickname", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>

                  <div class="col-sm-6 mb-4">
                    <%= form.label :date_of_birth, style: "display: block", class: "form-label fs-base"  %>
                    <%= form.date_field :date_of_birth, id: "user_profile_date_of_birth", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>
                </div>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :date_of_registration, style: "display: block", class: "form-label fs-base"  %>
                    <%= form.date_field :date_of_registration, id: "user_profile_date_of_registration", class: "form-control form-control-lg", style: "width: 400px;", readonly: true %>
                  </div>
               
              
                  <%= form.fields_for :user do |user_fields| %>

                    <div class="col-sm-6 mb-4">
                      <%= user_fields.label :email, class: "form-label fs-base"  %><br />
                      <%= user_fields.email_field :email, autofocus: true, autocomplete: "email", id: "user_email", class: "form-control form-control-lg", style: "width: 400px;" %>
                   </div>
                </div>

<!--                <div class="row">-->
<!--                    <div class="col-sm-6 mb-4">-->
<!--                      <%#= user_fields.label :password, class: "form-label fs-base"  %> <i>(leave blank if you don't want to change it)</i><br />-->
                      <%#= user_fields.password_field :password, autocomplete: "new-password", id: "user_password", class: "form-control form-control-lg", style: "width: 400px;" %>
                      <%# if @minimum_password_length %>
<!--                        <br />-->
<!--                        <em><%#= @minimum_password_length %> characters minimum</em>-->
                      <%# end %>
<!--                    </div>-->

<!--                    <div class="col-sm-6 mb-4">-->
<!--                      <%#= user_fields.label :password_confirmation, class: "form-label fs-base"  %><br />-->
                      <%#= user_fields.password_field :password_confirmation, autocomplete: "new-password", id: "user_password_confirmation", class: "form-control form-control-lg", style: "width: 400px;" %>
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="row">-->
<!--                  <div class="col-sm-6 mb-4">-->
<!--                    <%#= user_fields.label :current_password, class: "form-label fs-base"  %> <i>(we need your current password to confirm your changes)</i><br />-->
                    <%#= user_fields.password_field :current_password, autocomplete: "current-password", id: "user_current_password", class: "form-control form-control-lg", style: "width: 400px;" %>
<!--                  </div>-->
<!--                </div>-->

                <% end %>

                <div>
                  <%= form.submit t("buttons.Update") %>
                </div>
              <% end %>
          </div>

            <h2 class="h5 text-primary mt-5 mb-4"><%= t("heading.Sensitive_info") %></h2>

            <div id="profile-info" class="row pb-2">
              <%= form_with(model: user_profile.user) do |form| %>
                <% if user_profile.user.errors.any? %>
                  <div style="color: red">
                    <h2><%= pluralize(user_profile.user.errors.count, "error") %> prohibited this user from being saved:</h2>

                    <ul>
                      <% user_profile.user.errors.each do |error| %>
                        <li><%= error.full_message %></li>
                      <% end %>
                    </ul>
                  </div>
                <% end %>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :password, class: "form-label fs-base"  %> <i><%= t("p.leave_blank") %></i><br />
                    <%= form.password_field :password, autocomplete: "new-password", id: "user_password", class: "form-control form-control-lg", style: "width: 400px;" %>
                    <% if @minimum_password_length %>
                      <br />
                      <em><%= @minimum_password_length %> <%= t("activerecord.attributes.minimum_password_length") %></em>
                    <% end %>
                  </div>

                  <div class="col-sm-6 mb-4">
                    <%= form.label :password_confirmation, class: "form-label fs-base"  %><br />
                    <%= form.password_field :password_confirmation, autocomplete: "new-password", id: "user_password_confirmation", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>
                </div>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :current_password, class: "form-label fs-base"  %> <i><%= t("p.need_current") %></i><br />
                    <%= form.password_field :current_password, autocomplete: "current-password", id: "user_current_password", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>
                </div>

                <div>
                  <%= form.submit t("buttons.Update") %>
                </div>
              <% end %>
            </div>
            <h2 class="h5 text-primary pt-1 pt-lg-3 mt-4"><%= t("heading.Delete_account") %></h2>
            <p><%= t("p.delete") %></p>
            <div class="form-check mb-4 mt-3 me-3">
              <input type="checkbox" id="delete-account" class="form-check-input">
              <label for="delete-account" class="form-check-label fs-base"><%= t("p.yes_delete") %></label>
            </div>

          <div class="d-flex mb-3">
            <%= button_to t("buttons.destroy"), user_profile, method: :delete, style: "font-size: 1.25rem; padding: 1rem 2rem; background-color: red; color: white; border: none; border-radius: 0.25rem; cursor: pointer;" %>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Vendor Scripts -->
<script src="https://silicon.createx.studio/assets/vendor/cleave.js/dist/cleave.min.js"></script>

<!-- Main Theme Script-->
<script src="https://silicon.createx.studio/assets/js/theme.min.js"></script>

</body>

</html>