<html lang="en" data-bs-theme="dark"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-TXTBFKF5EW&amp;l=dataLayer&amp;cx=c"></script><script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-WKV3GT5"></script><script src="https://silicon.createx.studio/assets/js/theme-switcher.js"></script>-->
    <link rel="manifest" href="https://silicon.createx.studio/assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://silicon.createx.studio/assets/favicon/safari-pinned-tab.svg" color="#6366f1">
    <meta name="msapplication-TileColor" content="#080032">
    <meta name="msapplication-config" content="https://silicon.createx.studio/assets/favicon/browserconfig.xml">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" media="screen" href="https://silicon.createx.studio/assets/vendor/boxicons/css/boxicons.min.css">
    <link rel="stylesheet" media="screen" href="https://silicon.createx.studio/assets/css/theme.min.css">
    <link rel="stylesheet" href="https://templates.iqonic.design/streamit/html/frontend/assets/css/streamit.min.css?v=5.1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300&amp;display=swap" rel="stylesheet">
    <%= javascript_include_tag('refresh.js') %>

    <style>

      #submit-button i {
        font-size: 1rem;
        color: #000;
      }
    </style>
  </head>

  <body>
    
  <span class="screen-darken"></span>
  <div class="loader simple-loader animate__animated animate__fadeOut d-none">
     <div class="loader-body">
        <img src="https://templates.iqonic.design/streamit/html/frontend/assets/images/loader.gif" alt="loader" class="img-fluid " width="300">
      </div>
  </div>

    <main class="main-content">
      <section class="container pt-5">
      <div class="row">

        <!-- Sidebar (User info + Account menu) -->
        <aside class="col-lg-3 col-md-4 border-end pb-5 mt-n5">
          <div class="position-sticky top-0">
            <div class="text-center pt-5">
              <div class="d-table position-relative mx-auto mt-2 mt-lg-4 pt-5 mb-3">

              <%= form_with(model: user_profile, html: { id: "user-profile-form", multipart: true }) do |form| %>
              
                <div class="mt-md">
                  <% if user_profile.avatar.attached? %>
                    <%= image_tag(user_profile.avatar, width: "120", class: "d-block rounded-circle", id: "avatar_preview", data: { target: "avatar" }) %>
                  <% else %>
                    <img src="<%= image_path('unknown.jpg') %>" alt="Sorry, something went wrong" class="d-block rounded-circle" width="120" id="avatar_preview" data: { target: "avatar" }>
                  <% end %>
                </div>
              
                <%= form.file_field :avatar, id: "avatar_input", class: "d-none" %>
                <!--
                <div>
                  <%#= form.submit "✓", id: "submit-button", class: "btn btn-icon btn-light bg-white btn-sm border rounded-circle shadow-sm position-absolute bottom-0 end-0 mt-4" %>
                </div>
                -->
              <% end %>

              </div>
              <h2 class="h5 mb-1"><%= user_profile.nickname %></h2>
              <p class="mb-3 pb-3"><%= user_profile.user.email %></p>
              <button type="button" class="btn btn-secondary w-100 d-md-none mt-n2 mb-3" data-bs-toggle="collapse" data-bs-target="#account-menu">
                <i class="bx bxs-user-detail fs-xl me-2"></i>
                Account menu
                <i class="bx bx-chevron-down fs-lg ms-1"></i>
              </button>
              <div id="account-menu" class="list-group list-group-flush collapse d-md-block">
                <a href="account-details.html" class="list-group-item list-group-item-action d-flex align-items-center active">
                  <i class="bx bx-cog fs-xl opacity-60 me-2"></i>
                  Accountt Details
                </a>
                
                <li>
                  <%= button_to destroy_user_session_path, method: :delete, class: "list-group-item list-group-item-action d-flex align-items-center", style: "text-decoration: none;" do %>
                    <i class="bx bx-log-out fs-xl opacity-60 me-2"></i>
                    Sign out
                  <% end %>
                </li>

              </div>
            </div>
          </div>
        </aside>


        <!-- Account details -->
        <div class="col-md-8 offset-lg-1 pb-5 mb-2 mb-lg-4 pt-md-5 mt-n3 mt-md-0">
          <div class="ps-md-3 ps-lg-0 mt-md-2 py-md-4">
            <p class="title-md" style="color: green"><%= notice %></p>
            <p class="title-md" style="color: red"><%= alert %></p>
            <h1 class="h2 pt-xl-1 pb-3">Account Details</h1>

            <!-- Basic info -->
            <h2 class="h5 text-primary mb-4">Basic info</h2>

            <div id="profile-info" class="row pb-2">
           
            <%= form_with(model: user_profile) do |form| %>

              <% if user_profile.errors.any? %>
                <div style="color: red">
                  <h2><%= pluralize(user_profile.errors.count, "error") %> prohibited this user_profile from being saved:</h2>

                  <ul>
                    <% user_profile.errors.each do |error| %>
                      <li><%= error.full_message %></li>
                    <% end %>
                  </ul>
                </div>
              <% end %>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :nickname, style: "display: block", class: "form-label fs-base"  %>
                    <%= form.text_field :nickname, id: "user_profile_nickname", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>

                  <div class="col-sm-6 mb-4">
                    <%= form.label :date_of_birth, style: "display: block", class: "form-label fs-base"  %>
                    <%= form.date_field :date_of_birth, id: "user_profile_date_of_birth", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>
                </div>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :date_of_registration, style: "display: block", class: "form-label fs-base"  %>
                    <%= form.date_field :date_of_registration, id: "user_profile_date_of_registration", class: "form-control form-control-lg", style: "width: 400px;", readonly: true %>
                  </div>
               
              
                  <%= form.fields_for :user do |user_fields| %>

                    <div class="col-sm-6 mb-4">
                      <%= user_fields.label :email, class: "form-label fs-base"  %><br />
                      <%= user_fields.email_field :email, autofocus: true, autocomplete: "email", id: "user_email", class: "form-control form-control-lg", style: "width: 400px;" %>
                   </div>
                </div>

<!--                <div class="row">-->
<!--                    <div class="col-sm-6 mb-4">-->
<!--                      <%#= user_fields.label :password, class: "form-label fs-base"  %> <i>(leave blank if you don't want to change it)</i><br />-->
                      <%#= user_fields.password_field :password, autocomplete: "new-password", id: "user_password", class: "form-control form-control-lg", style: "width: 400px;" %>
                      <%# if @minimum_password_length %>
<!--                        <br />-->
<!--                        <em><%#= @minimum_password_length %> characters minimum</em>-->
                      <%# end %>
<!--                    </div>-->

<!--                    <div class="col-sm-6 mb-4">-->
<!--                      <%#= user_fields.label :password_confirmation, class: "form-label fs-base"  %><br />-->
                      <%#= user_fields.password_field :password_confirmation, autocomplete: "new-password", id: "user_password_confirmation", class: "form-control form-control-lg", style: "width: 400px;" %>
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="row">-->
<!--                  <div class="col-sm-6 mb-4">-->
<!--                    <%#= user_fields.label :current_password, class: "form-label fs-base"  %> <i>(we need your current password to confirm your changes)</i><br />-->
                    <%#= user_fields.password_field :current_password, autocomplete: "current-password", id: "user_current_password", class: "form-control form-control-lg", style: "width: 400px;" %>
<!--                  </div>-->
<!--                </div>-->

                <% end %>

                <div>
                  <%= form.submit "Update" %>
                </div>
              <% end %>
          </div>

            <h2 class="h5 text-primary mt-5 mb-4">Sensitive info</h2>

            <div id="profile-info" class="row pb-2">
              <%= form_with(model: user_profile.user) do |form| %>
                <% if user_profile.user.errors.any? %>
                  <div style="color: red">
                    <h2><%= pluralize(user_profile.user.errors.count, "error") %> prohibited this user from being saved:</h2>

                    <ul>
                      <% user_profile.user.errors.each do |error| %>
                        <li><%= error.full_message %></li>
                      <% end %>
                    </ul>
                  </div>
                <% end %>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :password, class: "form-label fs-base"  %> <i>(leave blank if you don't want to change it)</i><br />
                    <%= form.password_field :password, autocomplete: "new-password", id: "user_password", class: "form-control form-control-lg", style: "width: 400px;" %>
                    <% if @minimum_password_length %>
                      <br />
                      <em><%= @minimum_password_length %> characters minimum</em>
                    <% end %>
                  </div>

                  <div class="col-sm-6 mb-4">
                    <%= form.label :password_confirmation, class: "form-label fs-base"  %><br />
                    <%= form.password_field :password_confirmation, autocomplete: "new-password", id: "user_password_confirmation", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>
                </div>

                <div class="row">
                  <div class="col-sm-6 mb-4">
                    <%= form.label :current_password, class: "form-label fs-base"  %> <i>(we need your current password to confirm your changes)</i><br />
                    <%= form.password_field :current_password, autocomplete: "current-password", id: "user_current_password", class: "form-control form-control-lg", style: "width: 400px;" %>
                  </div>
                </div>

                <div>
                  <%= form.submit "Update" %>
                </div>
              <% end %>
            </div>
    <h2 class="h5 text-primary pt-1 pt-lg-3 mt-4">Delete account</h2>
    <p>When you delete your account, your public profile will be deactivated immediately. If you change your mind before the 14 days are up, sign in with your email and password, and we’ll send you a link to reactivate your account.</p>
    <div class="form-check mb-4 mt-3 me-3">
      <input type="checkbox" id="delete-account" class="form-check-input">
      <label for="delete-account" class="form-check-label fs-base">Yes, I want to delete my account</label>
    </div>

    <div class="d-flex mb-3">
      <%= button_to "Destroy profile", user_profile, method: :delete, style: "font-size: 1.25rem; padding: 1rem 2rem; background-color: red; color: white; border: none; border-radius: 0.25rem; cursor: pointer;" %>
    </div>

  </div>
</div>
</div>
</section>
</main>

<!-- Vendor Scripts -->
<script src="https://silicon.createx.studio/assets/vendor/cleave.js/dist/cleave.min.js"></script>

<!-- Main Theme Script-->
<script src="https://silicon.createx.studio/assets/js/theme.min.js"></script>

</body>

</html>